<?xml version="1.0" encoding="utf-8"?>
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003" DefaultTargets="Build">
  <Import Project="..\..\_jBuild\msbuild\projects\$(MSBuildProjectName).props" />
  <PropertyGroup Label="Globals">
    <ProjectGuid>{39917310-4b06-4b67-9d85-edd764c7c446}</ProjectGuid>
    <ReplaceWildcardsInProjectItems>true</ReplaceWildcardsInProjectItems>
    <ProjectRootDir>$(RootDir)prog\tools\</ProjectRootDir>
    <GameDir>$(ProjectRootDir)</GameDir>
    <GeneralPage>dsc2</GeneralPage>
    <GameType>dsc2</GameType>
    <ProjectName>dsc2</ProjectName>
    <TargetShaderArch>dx12</TargetShaderArch>
  </PropertyGroup>
  <Import Project="$(MSBuildToolsDir)defaults.props" />
  <PropertyGroup Label="Configuration">
    <NMakeIncludeSearchPath>$(NMakeIncludeSearchPath);.;$(CommonProgDir)gameLibs\publicInclude\breakpad</NMakeIncludeSearchPath>
  </PropertyGroup>
  <Import Project="$(MSBuildToolsDir)config.props" />
  <PropertyGroup>
    <AdjunctOptions>$(AdjunctOptions) -sRoot=../.. -fShaderCompiler2/jamfile-$(TargetShaderArch) </AdjunctOptions>
    <NMakeIncludeSearchPath Condition="'$(TargetShaderArch)' == 'ps4'">$(NMakeIncludeSearchPath);$(PS4SDKROOT)\target\include_common;$(PS4SDKROOT)\target\src</NMakeIncludeSearchPath>
    <NMakeIncludeSearchPath Condition="'$(TargetShaderArch)' == 'ps5'">$(NMakeIncludeSearchPath);$(PS5SDKROOT)host_tools\include;$(PS5SDKROOT)target\include_common</NMakeIncludeSearchPath>
    <NMakeIncludeSearchPath Condition="'$(TargetShaderArch)' == 'spirv'">$(NMakeIncludeSearchPath);$(_3rdPartyDir)vulkan\glslang;$(_3rdPartyDir)vulkan\include;$(_3rdPartyDir)vulkan\smol-v\source;$(_3rdPartyDir)vulkan\hlslcc\include;$(_3rdPartyDir)vulkan\spirv-tools\include</NMakeIncludeSearchPath>
    <NMakePreprocessorDefinitions Condition="'$(TargetShaderArch)' == 'dx12'">$(NMakePreprocessorDefinitions);_CROSS_TARGET_DX11;_CROSS_TARGET_DX12;BINDUMP_TARGET_BE=0;USE_BINDLESS_FOR_STATIC_TEX</NMakePreprocessorDefinitions>
    <NMakePreprocessorDefinitions Condition="'$(TargetShaderArch)' == 'hlsl11'">$(NMakePreprocessorDefinitions);_CROSS_TARGET_DX11;BINDUMP_TARGET_BE=0</NMakePreprocessorDefinitions>
    <NMakePreprocessorDefinitions Condition="'$(TargetShaderArch)' == 'metal'">$(NMakePreprocessorDefinitions)</NMakePreprocessorDefinitions>
    <NMakePreprocessorDefinitions Condition="'$(TargetShaderArch)' == 'ps4'">$(NMakePreprocessorDefinitions);_CROSS_TARGET_PS4;USE_BINDLESS_FOR_STATIC_TEX;BINDUMP_TARGET_BE=0;_PS4_SDK_VER=$(PS4SdkVer)</NMakePreprocessorDefinitions>
    <NMakePreprocessorDefinitions Condition="'$(TargetShaderArch)' == 'ps5'">$(NMakePreprocessorDefinitions);_CROSS_TARGET_PS5;USE_BINDLESS_FOR_STATIC_TEX;BINDUMP_TARGET_BE=0;_PS5_SDK_VER=$(PS5SdkVer)</NMakePreprocessorDefinitions>
    <NMakePreprocessorDefinitions Condition="'$(TargetShaderArch)' == 'spirv'">$(NMakePreprocessorDefinitions);_CROSS_TARGET_SPIRV;BINDUMP_TARGET_BE=0</NMakePreprocessorDefinitions>
  </PropertyGroup>
  <Import Project="$(MSBuildToolsDir)common.targets" />
  <ItemGroup>
    <ConfigPerDirectory Include="nodeBased\">
      <AdditionalIncludeDirectories>ShaderCompiler2\hlsl2spirv;ShaderCompiler2\ps4transcode;ShaderCompiler2\ps5transcode;ShaderCompiler2\hlsl11transcode;ShaderCompiler2\dx12;$(SolutionDir)prog\engine\drv\drv3d_pc_multi</AdditionalIncludeDirectories>
      <PreprocessorDefinitions>IS_OFFLINE_SHADER_COMPILER=1</PreprocessorDefinitions>
    </ConfigPerDirectory>
  </ItemGroup>
  <ItemGroup Label="Wildcard">
    <CppSource Include="**\*.cpp" />
    <CppHeader Include="**\*.h;**\*.inl" />
    <bat Include="**\*.bat;**\*.cmd" />
  </ItemGroup>
</Project>